{%extends 'base.html'%} {%load static%} {%block content%}

<div class="main-content">
  <!-- Top Bar -->
  <div class="topbar">
    <div class="page-title">Community Resilience & Climate Risk Intelligence</div>
    <div class="toolbar">
      <div class="notification-icon">
        <a href="notifications.html" title="Click to See Risk zone"><i class="fas fa-bell"></i></a>
        <div class="notification-badge">3</div>
      </div>
      <!-- <div class="user-info">
        <img
          src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=80&h=80&q=80"
          alt="User"
        />
        <span class="user-name">Alex Johnson</span>
      </div> -->
    </div>
  </div>
  <!-- Content -->
  <div class="page active" id="dashboard-page">
    <div class="content">
      <div class="kpi-section">
        <div class="section-header">
          <div class="section-title">Current Hazard Overview</div>
          <div class="time-filter">
            <i class="fas fa-calendar-alt"></i>
            Last 30 Days
          </div>
        </div>

        <div class="card-grid">
          <div class="card">
            <div class="kpi-header">
              <div class="kpi-label">Active Flood Events</div>
              <div class="kpi-icon flood">
                <i class="fas fa-water"></i>
              </div>
            </div>
            <div class="kpi-data">
              <div class="kpi-value">18</div>
              <div class="kpi-label">Increased by 2%</div>
            </div>
            <div class="kpi-trend trend-positive">
              <div class="trend-icon">
                <i class="fas fa-arrow-up"></i>
              </div>
              <div>Compared to last month</div>
            </div>
          </div>

          <div class="card">
            <div class="kpi-header">
              <div class="kpi-label">Drought Conditions</div>
              <div class="kpi-icon drought">
                <i class="fas fa-sun"></i>
              </div>
            </div>
            <div class="kpi-data">
              <div class="kpi-value">7</div>
              <div class="kpi-label">Severe in 2 regions</div>
            </div>
            <div class="kpi-trend trend-negative">
              <div class="trend-icon">
                <i class="fas fa-arrow-up"></i>
              </div>
              <div>Increased by 16%</div>
            </div>
          </div>

          <div class="card">
            <div class="kpi-header">
              <div class="kpi-label">Landslide Risks</div>
              <div class="kpi-icon landslide">
                <i class="fas fa-mountain"></i>
              </div>
            </div>
            <div class="kpi-data">
              <div class="kpi-value">14</div>
              <div class="kpi-label">High risk areas</div>
            </div>
            <div class="kpi-trend trend-positive">
              <div class="trend-icon">
                <i class="fas fa-arrow-down"></i>
              </div>
              <div>Decreased by 5%</div>
            </div>
          </div>

          <div class="card">
            <div class="kpi-header">
              <div class="kpi-label">Risk Zones</div>
              <div class="kpi-icon zone">
                <i class="fas fa-exclamation-triangle"></i>
              </div>
            </div>
            <div class="kpi-data">
              <div class="kpi-value">8</div>
              <div class="kpi-label">Needs immediate action</div>
            </div>
            <div class="kpi-trend trend-negative">
              <div class="trend-icon">
                <i class="fas fa-arrow-up"></i>
              </div>
              <div>Increased by 11%</div>
            </div>
          </div>
        </div>
      </div>
      <!-- End of kpi -->
      <!-- hazard Zones -->
      <div class="main-grid">
        <div class="map-section">
          <div class="section-header">
            <div class="section-title">Regional Hazard Map</div>
          </div>
          <div class="map-controls">
            <div class="map-filter-group">
              <label>Hazard Layers:</label>
              <div class="map-toggles">
                <button class="map-toggle-btn active" data-layer="flood">
                  <i class="fas fa-water"></i>
                  Flood
                </button>
                <button class="map-toggle-btn active" data-layer="landslide">
                  <i class="fas fa-mountain"></i>
                  Landslide
                </button>
                <button class="map-toggle-btn active" data-layer="drought">
                  <i class="fas fa-sun"></i>
                  Drought
                </button>
              </div>
            </div>
            <div class="map-filter-group">
              <label for="province-filter">Filter by Province:</label>
              <select id="province-filter">
                <option value="all">All Provinces</option>
                <option value="Kigali">Kigali</option>
                <option value="Southern">Southern</option>
                <option value="Western">Western</option>
                <option value="Northern">Northern</option>
                <option value="Eastern">Eastern</option>
              </select>
            </div>
          </div>
          <div class="map-container">
            <div id="map"></div>
          </div>
          <div class="map-legend">
            <div class="legend-item">
              <div class="legend-color flood"></div>
              <div class="legend-label">Flood Zones</div>
            </div>
            <div class="legend-item">
              <div class="legend-color drought"></div>
              <div class="legend-label">Drought Zones</div>
            </div>
            <div class="legend-item">
              <div class="legend-color landslide"></div>
              <div class="legend-label">Landslide Areas</div>
            </div>
          </div>
        </div>
      </div>
      <!-- recent alertes -->
      <div class="alert-section">
        <div class="alert-header">
          <div class="alert-title">Real-time Alerts</div>
          <div class="view-all">
            View All
            <i class="fas fa-angle-right"></i>
          </div>
        </div>

        <div class="alerts-container">
          <div class="alert-card critical">
            <div class="alert-type critical">
              <i class="fas fa-exclamation-circle"></i>
              EMERGENCY ALERT
            </div>
            <div class="alert-message">Major flood warning for Zone A. Expected rainfall: 5 inches in next 24 hours. Evacuation advised.</div>
            <div class="alert-time">10 minutes ago</div>
          </div>

          <div class="alert-card">
            <div class="alert-type">
              <i class="fas fa-mountain"></i>
              LANDSLIDE WARNING
            </div>
            <div class="alert-message">High risk of landslides in Hillside District. Avoid travel in this area until situation improves.</div>
            <div class="alert-time">2 hours ago</div>
          </div>

          <div class="alert-card">
            <div class="alert-type">
              <i class="fas fa-sun"></i>
              DROUGHT WARNING
            </div>
            <div class="alert-message">Drought conditions worsening in Northern Region. Water conservation measures in effect.</div>
            <div class="alert-time">5 hours ago</div>
          </div>

          <div class="alert-card">
            <div class="alert-type">
              <i class="fas fa-water"></i>
              FLOOD WATCH
            </div>
            <div class="alert-message">Potential flooding in coastal areas. Monitor local conditions and prepare emergency kits.</div>
            <div class="alert-time">Yesterday</div>
          </div>
        </div>
      </div>

      <!-- Communilty recilience -->
      <div class="checklist-section">
        <div class="section-header">
          <div class="section-title">Community Resilience Checklist</div>
        </div>

        <div class="checklist-grid">
          <div class="checklist-card">
            <div class="checklist-header">
              <div class="checklist-icon">
                <i class="fas fa-clipboard-list"></i>
              </div>
              <div class="checklist-title">Risk Assessment</div>
            </div>
            <ul class="checklist-items">
              <li class="checklist-item">
                <input type="checkbox" id="check1" checked />
                <label for="check1">Conduct community surveys</label>
              </li>
              <li class="checklist-item">
                <input type="checkbox" id="check2" />
                <label for="check2">Map vulnerable areas</label>
              </li>
              <li class="checklist-item">
                <input type="checkbox" id="check3" checked />
                <label for="check3">Identify high-risk populations</label>
              </li>
            </ul>
          </div>

          <div class="checklist-card">
            <div class="checklist-header">
              <div class="checklist-icon">
                <i class="fas fa-hands-helping"></i>
              </div>
              <div class="checklist-title">Emergency Response</div>
            </div>
            <ul class="checklist-items">
              <li class="checklist-item">
                <input type="checkbox" id="check4" />
                <label for="check4">Establish evacuation routes</label>
              </li>
              <li class="checklist-item">
                <input type="checkbox" id="check5" checked />
                <label for="check5">Set up emergency shelters</label>
              </li>
              <li class="checklist-item">
                <input type="checkbox" id="check6" />
                <label for="check6">Train response teams</label>
              </li>
            </ul>
          </div>

          <div class="checklist-card">
            <div class="checklist-header">
              <div class="checklist-icon">
                <i class="fas fa-seedling"></i>
              </div>
              <div class="checklist-title">Infrastructure Prep</div>
            </div>
            <ul class="checklist-items">
              <li class="checklist-item">
                <input type="checkbox" id="check7" />
                <label for="check7">Reinforce flood barriers</label>
              </li>
              <li class="checklist-item">
                <input type="checkbox" id="check8" checked />
                <label for="check8">Water storage solutions</label>
              </li>
              <li class="checklist-item">
                <input type="checkbox" id="check9" />
                <label for="check9">Soil stabilization projects</label>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!-- End of .content -->
  </div>
</div>
<script src="{%static 'js/dashboard.js' %}"></script>

{%endblock%}
